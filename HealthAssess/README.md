# HealthAssess - 健康自测问卷系统

## 项目概述

HealthAssess 是一个基于 Qt Creator 开发的健康自测问卷系统，用于收集用户的健康信息并进行初步的健康评估。该系统采用 C++ 语言开发，使用 Qt 框架构建图形用户界面，加入SQLite数据库

## 主要功能

### 1. 个人信息收集
- **姓名**: 支持中文、英文、空格和中间名分隔符（·）
- **年龄**: 1-150岁整数验证
- **性别**: 支持中文和英文性别标识
- **身高**: 50-250cm 范围验证
- **体重**: 1-300kg 范围验证
- **手机号**: 11位国内手机号格式验证

### 2. 生活方式评估
系统通过以下7个复选框收集用户的生活方式信息：

**正面健康习惯（加分项）:**
- 规律饮食 (regular diet)
- 均衡饮食 (balanced diet)  
- 规律运动 (regular exercises)
- 充足睡眠 (enough sleep)

**负面健康习惯（减分项）:**
- 吸烟或饮酒 (smoke or drink)
- 压力或抑郁 (stressed or depressed)
- 慢性疾病 (chronic diseases)

### 3. 健康评分系统
系统自动计算用户的健康评分：

- **BMI计算**: 根据身高体重自动计算BMI指数
- **BMI评分**: 
  - BMI ≤ 18.4: -1分（偏瘦）
  - 18.4 < BMI < 24: +1分（正常）
  - 24 ≤ BMI < 28: -1分（超重）
  - 28 ≤ BMI < 32: -2分（肥胖）
  - BMI ≥ 32: -3分（重度肥胖）

- **生活方式评分**: 根据用户选择的生活习惯进行加减分

### 4.患者数据查询
系统将患者提交的问卷数据储存在数据库中，医生可查询患者数据，初步了解患者信息
-**支持姓名、手机号查询**-：根据姓名、手机号查询患者数据
-**支持导出数据至.csv表格**-：可导出全部患者数据与查询结果数据


## 技术架构

### 开发环境
- **IDE**: Qt Creator
- **编程语言**: C++11
- **框架**: Qt 5/6 (Core, GUI, Widgets)
- **平台**: 跨平台（Windows, Linux, macOS）

### 项目结构
```
HealthAssess/
├── HealthAssess.pro          # Qt项目配置文件
├── main.cpp                  # 程序入口点
├── widget.h                  # 主窗口类头文件
├── widget.cpp                # 主窗口类实现文件
└── widget.ui                 # Qt Designer UI文件
```

### 核心类设计
- **Widget类**: 继承自QWidget，实现主窗口功能
- **输入验证**: 使用正则表达式和数值范围检查
- **事件处理**: 按钮点击事件和表单提交逻辑

### ui的布局结构
```
行0: Health self-Assessment (标题)
行1: 1.Personal information (个人信息标题)
行2: name (姓名标签 + 输入框)
行3: age (年龄标签 + 输入框)
行4: gender (性别标签 + 输入框)
行5: height(cm) (身高标签 + 输入框)
行6: weight(kg) (体重标签 + 输入框)
行7: phonenumber (手机号标签 + 输入框)
行8: 2.Life style (生活方式标题)
行9: regular diet? (规律饮食复选框)
行10: balanced diet? (均衡饮食复选框)
行11: regular exercises? (规律运动复选框)
行12: enough sleep? (充足睡眠复选框)
行13: smoke or drink? (吸烟饮酒复选框)
行14: stressed or depressed? (压力抑郁复选框)
行15: chronic diseases? (慢性疾病复选框)
行16: submit (提交按钮)
```

### 评分系统详细说明
- **BMI评分**: 基于中国人身高体重计算的体质指数评分
- **生活方式评分**: 根据7个健康习惯复选框的选择进行加减分
- **最终评分**: BMI评分 + 生活方式评分的总和

### 复选框选项说明
**正面健康习惯（+1分）:**
- 规律饮食 (regular diet)
- 均衡饮食 (balanced diet)
- 规律运动 (regular exercises)
- 充足睡眠 (enough sleep)

**负面健康习惯（-1分）:**
- 吸烟或饮酒 (smoke or drink)
- 压力或抑郁 (stressed or depressed)
- 慢性疾病 (chronic diseases)


## 使用方法

### 1. 编译运行
```bash
# 在Qt Creator中打开HealthAssess.pro文件
# 配置编译环境
# 点击运行按钮或按Ctrl+R
```

### 2. 填写问卷
1. 在"Personal information"部分填写基本信息
2. 在"Life style"部分选择符合的生活习惯
3. 点击"submit"按钮提交

### 3. 查看结果
提交成功后，系统会显示：
- 所有输入的个人信息
- 计算得出的健康评分
- 控制台调试信息

## 输入验证规则

### 姓名验证
- 不能为空
- 长度不超过20个字符
- 只允许汉字、字母、空格和中间名分隔符（·）

### 年龄验证
- 必须为1-150之间的整数
- 不能为空

### 性别验证
- 支持中文：男、女、男性、女性
- 支持英文：Male、Female、male、female

### 身高验证
- 必须为50-250cm之间的正数
- 不能为空

### 体重验证
- 必须为1-300kg之间的正数
- 不能为空

### 手机号验证
- 必须为11位数字
- 以1开头，第二位为3-9
- 符合国内手机号规则

## 错误处理

系统提供友好的错误提示：
- 输入验证失败时显示警告对话框
- 自动聚焦到错误的输入框
- 详细的错误信息说明

## 扩展功能建议

//1. 添加数据导出功能，实现健康报告生成
//2. 集成数据库系统
//3. 在医生界面可查阅患者自测
4. 增加健康建议推荐





